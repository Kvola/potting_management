<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- ================================================================
             CRON: Envoi quotidien des alertes aux managers
             Exécute à 7h00 chaque jour ouvré
             ================================================================ -->
        
        <record id="cron_potting_daily_alerts" model="ir.cron">
            <field name="name">Potting: Envoi alertes quotidiennes aux managers</field>
            <field name="model_id" ref="model_potting_transit_order"/>
            <field name="state">code</field>
            <field name="code">model.env['potting.alert.service'].send_daily_alert_email()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
        </record>

        <!-- ================================================================
             CRON: Vérification des CV arrivant à expiration
             Exécute chaque semaine pour détecter les CV qui expirent
             ================================================================ -->
        
        <record id="cron_potting_cv_expiry_check" model="ir.cron">
            <field name="name">Potting: Vérification expiration CV</field>
            <field name="model_id" ref="model_potting_confirmation_vente"/>
            <field name="state">code</field>
            <field name="code">model._cron_check_cv_expiration()</field>
            <field name="interval_number">1</field>
            <field name="interval_type">weeks</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
        </record>

        <!-- ================================================================
             CRON: Rappel paiement taxes en attente
             Exécute tous les 2 jours pour les OT avec taxes impayées
             ================================================================ -->
        
        <record id="cron_potting_taxes_reminder" model="ir.cron">
            <field name="name">Potting: Rappel taxes OT en attente</field>
            <field name="model_id" ref="model_potting_transit_order"/>
            <field name="state">code</field>
            <field name="code">model._cron_taxes_payment_reminder()</field>
            <field name="interval_number">2</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="active" eval="True"/>
        </record>

    </data>
</odoo>
