<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Dashboard Actions (must be defined before menus that reference them) -->
    <record id="action_potting_dashboard_commercial" model="ir.actions.client">
        <field name="name">ðŸ“Š Tableau de bord Commercial</field>
        <field name="tag">potting_commercial_dashboard</field>
    </record>

    <record id="action_potting_dashboard_shipping" model="ir.actions.client">
        <field name="name">ðŸ“Š Tableau de bord Shipping</field>
        <field name="tag">potting_shipping_dashboard</field>
    </record>

    <record id="action_potting_dashboard_ceo_agent" model="ir.actions.client">
        <field name="name">ðŸ“Š Tableau de bord Agent Exportation</field>
        <field name="tag">potting_ceo_agent_dashboard</field>
    </record>

    <!-- Main Menu - Now uses base group -->
    <menuitem id="menu_potting_root" 
              name="ðŸ“¦ Exportations" 
              sequence="3"
              web_icon="potting_management,static/description/icon.png"
              groups="potting_management.group_potting_user"/>

    <!-- Dashboards Menu -->
    <menuitem id="menu_potting_dashboards" 
              name="ðŸ“Š Tableaux de bord" 
              parent="menu_potting_root" 
              sequence="5"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_dashboard_commercial" 
              name="ðŸ’¼ Commercial" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_commercial" 
              sequence="5"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_dashboard_shipping" 
              name="ðŸš¢ Shipping" 
              parent="menu_potting_dashboards" 
              action="potting_management.action_potting_dashboard_shipping" 
              sequence="10"
              groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_dashboard_ceo_agent" 
              name="ðŸ“¦ Agent Exportation" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_ceo_agent" 
              sequence="20"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- Operations Menu -->
    <menuitem id="menu_potting_operations" 
              name="âš¡ OpÃ©rations" 
              parent="menu_potting_root" 
              sequence="10"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_customer_order" 
              name="ðŸ“‹ Contrats clients" 
              parent="menu_potting_operations" 
              action="action_potting_customer_order" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_transit_order" 
              name="ðŸšš Ordres de Transit" 
              parent="menu_potting_operations" 
              action="action_potting_transit_order" 
              sequence="20"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_lot" 
              name="ðŸ“¦ Lots" 
              parent="menu_potting_operations" 
              action="action_potting_lot" 
              sequence="30"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_container" 
              name="ðŸ—ï¸ Conteneurs" 
              parent="menu_potting_operations" 
              action="action_potting_container" 
              sequence="40"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_delivery_note" 
              name="ðŸ“„ Bons de Livraison" 
              parent="menu_potting_operations" 
              action="action_potting_delivery_note" 
              sequence="45"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_production_line" 
              name="ðŸ­ Productions" 
              parent="menu_potting_operations" 
              action="action_potting_production_line" 
              sequence="50"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- ================================================================
         MENU RÃ‰GLEMENTATION CCC (Confirmations de Vente et Formules)
         ================================================================ -->
    <menuitem id="menu_potting_ccc" 
              name="ðŸ›ï¸ RÃ©glementation CCC" 
              parent="menu_potting_root" 
              sequence="15"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_confirmation_vente" 
              name="ðŸ“œ Confirmations de Vente" 
              parent="menu_potting_ccc" 
              action="action_potting_confirmation_vente" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_formule" 
              name="ðŸ“Š Formules (FO)" 
              parent="menu_potting_ccc" 
              action="action_potting_formule" 
              sequence="20"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_taxe_type" 
              name="ðŸ›ï¸ Types de Taxes" 
              parent="menu_potting_ccc" 
              action="action_potting_taxe_type" 
              sequence="30"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <!-- CEO Agent Menu -->
    <menuitem id="menu_potting_ceo_agent" 
              name="âœ… Validation" 
              parent="menu_potting_root" 
              sequence="20"
              groups="potting_management.group_potting_ceo_agent"/>

    <menuitem id="menu_potting_ceo_transit_order" 
              name="ðŸ“ OT Ã  valider" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_transit_order_ceo_agent" 
              sequence="10"/>

    <menuitem id="menu_potting_ceo_lot" 
              name="ðŸ“¦ Lots Ã  gÃ©rer" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_lot_ceo_agent" 
              sequence="20"/>

    <menuitem id="menu_potting_ceo_send_report" 
              name="ðŸ“§ Envoyer rapport" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_send_report_wizard" 
              sequence="30"/>

    <menuitem id="menu_potting_daily_report"
              name="ðŸ“Š Rapport quotidien OT"
              parent="menu_potting_ceo_agent"
              action="action_potting_daily_report_wizard"
              sequence="40"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- Reports Menu -->
    <menuitem id="menu_potting_reports" 
              name="ðŸ“Š Rapports" 
              parent="menu_potting_root" 
              sequence="30"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- Note: Le menu "Rapport quotidien OT" est dÃ©fini dans potting_daily_report_wizard_views.xml -->

    <!-- Configuration Menu -->
    <menuitem id="menu_potting_config"
        name="âš™ï¸ Configuration"
        parent="menu_potting_root"  
        sequence="100"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_certification"
        name="ðŸ… Certifications"
        parent="menu_potting_config"
        action="action_potting_certification"
        sequence="5"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_consignee"
        name="ðŸ‘¤ Destinataires"
        parent="menu_potting_config"
        action="action_potting_consignee"
        sequence="10"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_vessel"
        name="ðŸš¢ Navires"
        parent="menu_potting_config"
        action="action_potting_vessel"
        sequence="20"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_forwarding_agent"
        name="ðŸšš Transitaires"
        parent="menu_potting_config"
        action="potting_forwarding_agent_action"
        sequence="25"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_forwarding_agent_payments"
        name="ðŸ’³ Paiements transitaires"
        parent="menu_potting_config"
        action="potting_forwarding_agent_payment_action"
        sequence="26"
        groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_settings"
        name="âš™ï¸ ParamÃ¨tres"
        parent="menu_potting_config"  
        action="action_potting_config_settings"
        sequence="100"
        groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_campaign"
        name="ðŸ“… Campagnes"
        parent="menu_potting_config"
        action="potting_campaign_action"
        sequence="1"
        groups="potting_management.group_potting_manager"/>
</odoo>