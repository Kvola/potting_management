<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ================================================================
         DASHBOARD ACTIONS (must be defined before menus that reference them)
         Chaque profil utilisateur a son propre tableau de bord
         
         Groupes de sÃ©curitÃ© disponibles :
         - group_potting_user : Lecture seule
         - group_potting_commercial : Contrats
         - group_potting_agent_ccc : CV (Confirmations de Vente)
         - group_potting_ot_manager : Gestionnaire OT
         - group_potting_formule_manager : Formules
         - group_potting_accountant : Paiements (Taxes/DUS)
         - group_potting_shipping : Logistique
         - group_potting_ceo_agent : Validation OT
         - group_potting_manager : AccÃ¨s complet
         ================================================================ -->
    
    <!-- Dashboard Utilisateur de base -->
    <record id="action_potting_dashboard_user" model="ir.actions.client">
        <field name="name">ğŸ  Tableau de bord</field>
        <field name="tag">potting_user_dashboard</field>
    </record>

    <!-- Dashboard Commercial (Contrats) -->
    <record id="action_potting_dashboard_commercial" model="ir.actions.client">
        <field name="name">ğŸ’¼ Tableau de bord Commercial</field>
        <field name="tag">potting_commercial_dashboard</field>
    </record>

    <!-- Dashboard Agent CCC (CV) - NOUVEAU -->
    <record id="action_potting_dashboard_agent_ccc" model="ir.actions.client">
        <field name="name">ğŸ“‹ Tableau de bord Agent CCC</field>
        <field name="tag">potting_agent_ccc_dashboard</field>
    </record>

    <!-- Dashboard Gestionnaire OT - NOUVEAU -->
    <record id="action_potting_dashboard_ot_manager" model="ir.actions.client">
        <field name="name">ğŸšš Tableau de bord Gestionnaire OT</field>
        <field name="tag">potting_ot_manager_dashboard</field>
    </record>

    <!-- Dashboard Gestionnaire Formules (renommÃ© depuis CV/Formules) -->
    <record id="action_potting_dashboard_formule_manager" model="ir.actions.client">
        <field name="name">ğŸ“Š Tableau de bord Gestionnaire Formules</field>
        <field name="tag">potting_cv_formule_manager_dashboard</field>
    </record>

    <!-- Dashboard CV/Formules - OBSOLÃˆTE mais conservÃ© pour compatibilitÃ© -->
    <record id="action_potting_dashboard_cv_formule" model="ir.actions.client">
        <field name="name">ğŸ“œ Tableau de bord CV/Formules (obsolÃ¨te)</field>
        <field name="tag">potting_cv_formule_manager_dashboard</field>
    </record>

    <!-- Dashboard Shipping (Logistique) -->
    <record id="action_potting_dashboard_shipping" model="ir.actions.client">
        <field name="name">ğŸš¢ Tableau de bord Shipping</field>
        <field name="tag">potting_shipping_dashboard</field>
    </record>

    <!-- Dashboard Agent Exportation (Validation OT) -->
    <record id="action_potting_dashboard_ceo_agent" model="ir.actions.client">
        <field name="name">ğŸ“¦ Tableau de bord Agent Exportation</field>
        <field name="tag">potting_ceo_agent_dashboard</field>
    </record>

    <!-- Dashboard Comptable (Paiements Taxes/DUS) -->
    <record id="action_potting_dashboard_accountant" model="ir.actions.client">
        <field name="name">ğŸ’° Tableau de bord Comptable</field>
        <field name="tag">potting_accountant_dashboard</field>
    </record>

    <!-- Dashboard Responsable (Manager) - Vue complÃ¨te -->
    <record id="action_potting_dashboard_manager" model="ir.actions.client">
        <field name="name">ğŸ“Š Tableau de bord Responsable</field>
        <field name="tag">potting_manager_dashboard</field>
    </record>

    <!-- ================================================================
         MENU PRINCIPAL
         ================================================================ -->
    <menuitem id="menu_potting_root" 
              name="ğŸ“¦ Exportations" 
              sequence="3"
              web_icon="potting_management,static/description/icon.png"
              groups="potting_management.group_potting_user"/>

    <!-- ================================================================
         1. TABLEAUX DE BORD - Accueil personnalisÃ© par profil
         ================================================================ -->
    <menuitem id="menu_potting_dashboards" 
              name="ğŸ“Š Tableaux de bord" 
              parent="menu_potting_root" 
              sequence="1"
              groups="potting_management.group_potting_user"/>

    <!-- <menuitem id="menu_potting_dashboard_user" 
              name="ğŸ  Vue d'ensemble" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_user" 
              sequence="1"
              groups="potting_management.group_potting_user"/> -->

    <menuitem id="menu_potting_dashboard_commercial" 
              name="ğŸ’¼ Commercial" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_commercial" 
              sequence="10"
              groups="potting_management.group_potting_commercial"/>

    <menuitem id="menu_potting_dashboard_agent_ccc" 
              name="ğŸ“‹ Agent CCC" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_agent_ccc" 
              sequence="20"
              groups="potting_management.group_potting_agent_ccc"/>

    <menuitem id="menu_potting_dashboard_ot_manager" 
              name="ğŸšš Gestionnaire OT" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_ot_manager" 
              sequence="30"
              groups="potting_management.group_potting_ot_manager"/>

    <menuitem id="menu_potting_dashboard_formule_manager" 
              name="ğŸ“Š Gestionnaire Formules" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_formule_manager" 
              sequence="40"
              groups="potting_management.group_potting_formule_manager"/>

    <menuitem id="menu_potting_dashboard_shipping" 
              name="ğŸš¢ Shipping" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_shipping" 
              sequence="50"
              groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_dashboard_ceo_agent" 
              name="ğŸ“¦ Agent Exportation" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_ceo_agent" 
              sequence="60"
              groups="potting_management.group_potting_ceo_agent"/>

    <menuitem id="menu_potting_dashboard_accountant" 
              name="ğŸ’° Comptable" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_accountant" 
              sequence="70"
              groups="potting_management.group_potting_accountant"/>

    <menuitem id="menu_potting_dashboard_manager" 
              name="ğŸ“Š Responsable (tous)" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_manager" 
              sequence="100"
              groups="potting_management.group_potting_manager"/>

    <!-- OBSOLÃˆTE - conservÃ© pour compatibilitÃ© -->
    <menuitem id="menu_potting_dashboard_cv_formule" 
              name="ğŸ“œ CV/Formules (obsolÃ¨te)" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_cv_formule" 
              sequence="999"
              groups="potting_management.group_potting_cv_formule"/>

    <!-- ================================================================
         2. VENTES - Contrats et CV (Commercial + Agent CCC)
         ================================================================ -->
    <menuitem id="menu_potting_sales" 
              name="ğŸ’¼ Ventes" 
              parent="menu_potting_root" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_agent_ccc,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_customer_order" 
              name="ğŸ“‹ Contrats clients" 
              parent="menu_potting_sales" 
              action="action_potting_customer_order" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_confirmation_vente" 
              name="ğŸ“œ Confirmations de Vente (CV)" 
              parent="menu_potting_sales" 
              action="action_potting_confirmation_vente" 
              sequence="20"
              groups="potting_management.group_potting_agent_ccc,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_cv_agent_ccc" 
              name="ğŸ“‹ Mes CV (Agent CCC)" 
              parent="menu_potting_sales" 
              action="action_potting_cv_agent_ccc" 
              sequence="25"
              groups="potting_management.group_potting_agent_ccc"/>

    <!-- ================================================================
         3. RÃ‰GLEMENTATION CCC - Formules et Taxes (Gestionnaire Formules)
         ================================================================ -->
    <menuitem id="menu_potting_ccc" 
              name="ğŸ›ï¸ RÃ©glementation CCC" 
              parent="menu_potting_root" 
              sequence="20"
              groups="potting_management.group_potting_formule_manager,potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_formule" 
              name="ğŸ“Š Formules (FO)" 
              parent="menu_potting_ccc" 
              action="action_potting_formule" 
              sequence="10"
              groups="potting_management.group_potting_formule_manager,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_taxe_type" 
              name="ğŸ›ï¸ Types de Taxes" 
              parent="menu_potting_ccc" 
              action="action_potting_taxe_type" 
              sequence="20"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <!-- ================================================================
         4. ORDRES DE TRANSIT - Gestion OT (Gestionnaire OT)
         ================================================================ -->
    <menuitem id="menu_potting_ot_export" 
              name="ğŸšš Ordres de Transit" 
              parent="menu_potting_root" 
              sequence="30"
              groups="potting_management.group_potting_ot_manager,potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_transit_order" 
              name="ğŸ“‹ Tous les OT" 
              parent="menu_potting_ot_export" 
              action="action_potting_transit_order" 
              sequence="10"
              groups="potting_management.group_potting_ot_manager,potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_ot_manager" 
              name="ğŸšš OT Ã  traiter" 
              parent="menu_potting_ot_export" 
              action="action_potting_transit_order_ot_manager" 
              sequence="20"
              groups="potting_management.group_potting_ot_manager,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_ot_allocations" 
              name="ğŸ”— Allocations OT â†” Contrats" 
              parent="menu_potting_ot_export" 
              action="action_potting_ot_contract_allocation" 
              sequence="30"
              groups="potting_management.group_potting_ot_manager,potting_management.group_potting_manager"/>

    <!-- ================================================================
         5. PRODUCTION ET VALIDATION (Agent Exportation)
         ================================================================ -->
    <menuitem id="menu_potting_ceo_agent" 
              name="âœ… Production &amp; Validation" 
              parent="menu_potting_root" 
              sequence="40"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_ceo_transit_order" 
              name="ğŸ“ OT Ã  valider" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_transit_order_ceo_agent" 
              sequence="10"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_ceo_lot" 
              name="ğŸ“¦ Lots Ã  gÃ©rer" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_lot_ceo_agent" 
              sequence="20"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_production_line" 
              name="ğŸ­ Productions" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_production_line" 
              sequence="30"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <!-- ================================================================
         6. LOGISTIQUE - Shipping et Empotage
         ================================================================ -->
    <menuitem id="menu_potting_logistics" 
              name="ğŸš¢ Logistique" 
              parent="menu_potting_root" 
              sequence="50"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_lot" 
              name="ğŸ“¦ Lots" 
              parent="menu_potting_logistics" 
              action="action_potting_lot" 
              sequence="10"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_container" 
              name="ğŸ—ï¸ Conteneurs" 
              parent="menu_potting_logistics" 
              action="action_potting_container" 
              sequence="20"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_delivery_note" 
              name="ğŸ“„ Bons de Livraison" 
              parent="menu_potting_logistics" 
              action="action_potting_delivery_note" 
              sequence="30"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_forwarding_agent"
              name="ğŸšš Transitaires"
              parent="menu_potting_logistics"
              action="potting_forwarding_agent_action"
              sequence="40"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <!-- ================================================================
         7. COMPTABILITÃ‰ - Paiements et Factures
         ================================================================ -->
    <menuitem id="menu_potting_accounting" 
              name="ğŸ’° ComptabilitÃ©" 
              parent="menu_potting_root" 
              sequence="60"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoice_to_validate" 
              name="ğŸ“‹ Factures Ã  Valider" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_invoice_to_validate" 
              sequence="10"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoice_ready" 
              name="âœ… Factures PrÃªtes au Paiement" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_invoice_ready_payment" 
              sequence="20"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoices_all" 
              name="ğŸ“ Toutes les Factures" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_agent_invoice" 
              sequence="30"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_forwarding_agent_payments"
              name="ğŸ’³ Paiements Transitaires"
              parent="menu_potting_accounting"
              action="potting_forwarding_agent_payment_action"
              sequence="40"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <!-- ================================================================
         8. RAPPORTS
         ================================================================ -->
    <menuitem id="menu_potting_reports" 
              name="ğŸ“Š Rapports" 
              parent="menu_potting_root" 
              sequence="70"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_daily_report"
              name="ğŸ“Š Rapport quotidien OT"
              parent="menu_potting_reports"
              action="action_potting_daily_report_wizard"
              sequence="10"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_ceo_send_report" 
              name="ğŸ“§ Envoyer rapport par email" 
              parent="menu_potting_reports" 
              action="action_potting_send_report_wizard" 
              sequence="20"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <!-- ================================================================
         9. CONFIGURATION (Manager uniquement)
         ================================================================ -->
    <menuitem id="menu_potting_config"
              name="âš™ï¸ Configuration"
              parent="menu_potting_root"  
              sequence="100"
              groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_campaign"
              name="ğŸ“… Campagnes"
              parent="menu_potting_config"
              action="potting_campaign_action"
              sequence="10"
              groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_certification"
              name="ğŸ… Certifications"
              parent="menu_potting_config"
              action="action_potting_certification"
              sequence="20"
              groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_consignee"
              name="ğŸ‘¤ Destinataires"
              parent="menu_potting_config"
              action="action_potting_consignee"
              sequence="30"
              groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_vessel"
              name="ğŸš¢ Navires"
              parent="menu_potting_config"
              action="action_potting_vessel"
              sequence="40"
              groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_settings"
              name="âš™ï¸ ParamÃ¨tres"
              parent="menu_potting_config"  
              action="action_potting_config_settings"
              sequence="100"
              groups="potting_management.group_potting_manager"/>

    <!-- ================================================================
         MENUS LEGACY/OBSOLÃˆTES - ConservÃ©s pour compatibilitÃ©
         ================================================================ -->
    <!-- Ancien menu Operations supprimÃ©, fonctionnalitÃ©s rÃ©parties -->
</odoo>