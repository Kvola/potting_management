<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ================================================================
         DASHBOARD ACTIONS (must be defined before menus that reference them)
         Chaque profil utilisateur a son propre tableau de bord
         ================================================================ -->
    
    <!-- Dashboard Utilisateur de base -->
    <record id="action_potting_dashboard_user" model="ir.actions.client">
        <field name="name">ğŸ  Tableau de bord</field>
        <field name="tag">potting_user_dashboard</field>
    </record>

    <!-- Dashboard Commercial -->
    <record id="action_potting_dashboard_commercial" model="ir.actions.client">
        <field name="name">ğŸ’¼ Tableau de bord Commercial</field>
        <field name="tag">potting_commercial_dashboard</field>
    </record>

    <!-- Dashboard Responsable CV/Formules -->
    <record id="action_potting_dashboard_cv_formule" model="ir.actions.client">
        <field name="name">ğŸ“œ Tableau de bord CV/Formules</field>
        <field name="tag">potting_cv_formule_manager_dashboard</field>
    </record>

    <!-- Dashboard Shipping -->
    <record id="action_potting_dashboard_shipping" model="ir.actions.client">
        <field name="name">ğŸš¢ Tableau de bord Shipping</field>
        <field name="tag">potting_shipping_dashboard</field>
    </record>

    <!-- Dashboard Agent Exportation -->
    <record id="action_potting_dashboard_ceo_agent" model="ir.actions.client">
        <field name="name">ğŸ“¦ Tableau de bord Agent Exportation</field>
        <field name="tag">potting_ceo_agent_dashboard</field>
    </record>

    <!-- Dashboard Comptable -->
    <record id="action_potting_dashboard_accountant" model="ir.actions.client">
        <field name="name">ğŸ’° Tableau de bord Comptable</field>
        <field name="tag">potting_accountant_dashboard</field>
    </record>

    <!-- Dashboard Responsable (Manager) -->
    <record id="action_potting_dashboard_manager" model="ir.actions.client">
        <field name="name">ğŸ“Š Tableau de bord Responsable</field>
        <field name="tag">potting_manager_dashboard</field>
    </record>

    <!-- Main Menu - Now uses base group -->
    <menuitem id="menu_potting_root" 
              name="ğŸ“¦ Exportations" 
              sequence="3"
              web_icon="potting_management,static/description/icon.png"
              groups="potting_management.group_potting_user"/>

    <!-- ================================================================
         MENUS TABLEAUX DE BORD - Un par profil utilisateur
         ================================================================ -->
    <menuitem id="menu_potting_dashboards" 
              name="ğŸ“Š Tableaux de bord" 
              parent="menu_potting_root" 
              sequence="5"
              groups="potting_management.group_potting_user"/>

    <!-- Dashboard Utilisateur de base -->
    <menuitem id="menu_potting_dashboard_user" 
              name="ğŸ  Vue d'ensemble" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_user" 
              sequence="1"
              groups="potting_management.group_potting_user"/>

    <!-- Dashboard Commercial -->
    <menuitem id="menu_potting_dashboard_commercial" 
              name="ğŸ’¼ Commercial" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_commercial" 
              sequence="5"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_manager"/>

    <!-- Dashboard Responsable CV/Formules -->
    <menuitem id="menu_potting_dashboard_cv_formule" 
              name="ğŸ“œ CV/Formules" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_cv_formule" 
              sequence="7"
              groups="potting_management.group_potting_cv_formule,potting_management.group_potting_manager"/>

    <!-- Dashboard Shipping -->
    <menuitem id="menu_potting_dashboard_shipping" 
              name="ğŸš¢ Shipping" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_shipping" 
              sequence="10"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <!-- Dashboard Agent Exportation -->
    <menuitem id="menu_potting_dashboard_ceo_agent" 
              name="ğŸ“¦ Agent Exportation" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_ceo_agent" 
              sequence="15"
              groups="potting_management.group_potting_ceo_agent,potting_management.group_potting_manager"/>

    <!-- Dashboard Comptable -->
    <menuitem id="menu_potting_dashboard_accountant" 
              name="ğŸ’° Comptable" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_accountant" 
              sequence="20"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <!-- Dashboard Responsable (Manager) - Vue complÃ¨te -->
    <menuitem id="menu_potting_dashboard_manager" 
              name="ğŸ“Š Responsable" 
              parent="menu_potting_dashboards" 
              action="action_potting_dashboard_manager" 
              sequence="25"
              groups="potting_management.group_potting_manager"/>

    <!-- Operations Menu -->
    <menuitem id="menu_potting_operations" 
              name="âš¡ OpÃ©rations" 
              parent="menu_potting_root" 
              sequence="10"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_customer_order" 
              name="ğŸ“‹ Contrats clients" 
              parent="menu_potting_operations" 
              action="action_potting_customer_order" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_transit_order" 
              name="ğŸšš Ordres de Transit" 
              parent="menu_potting_operations" 
              action="action_potting_transit_order" 
              sequence="20"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_lot" 
              name="ğŸ“¦ Lots" 
              parent="menu_potting_operations" 
              action="action_potting_lot" 
              sequence="30"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_container" 
              name="ğŸ—ï¸ Conteneurs" 
              parent="menu_potting_operations" 
              action="action_potting_container" 
              sequence="40"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_delivery_note" 
              name="ğŸ“„ Bons de Livraison" 
              parent="menu_potting_operations" 
              action="action_potting_delivery_note" 
              sequence="45"
              groups="potting_management.group_potting_user"/>

    <menuitem id="menu_potting_production_line" 
              name="ğŸ­ Productions" 
              parent="menu_potting_operations" 
              action="action_potting_production_line" 
              sequence="50"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- ================================================================
         MENU RÃ‰GLEMENTATION CCC (Confirmations de Vente et Formules)
         ================================================================ -->
    <menuitem id="menu_potting_ccc" 
              name="ğŸ›ï¸ RÃ©glementation CCC" 
              parent="menu_potting_root" 
              sequence="15"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_confirmation_vente" 
              name="ğŸ“œ Confirmations de Vente" 
              parent="menu_potting_ccc" 
              action="action_potting_confirmation_vente" 
              sequence="10"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_cv_allocation" 
              name="ğŸ“Š Allocations CV-Contrats" 
              parent="menu_potting_ccc" 
              action="action_potting_cv_allocation" 
              sequence="15"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_formule" 
              name="ğŸ“Š Formules (FO)" 
              parent="menu_potting_ccc" 
              action="action_potting_formule" 
              sequence="20"
              groups="potting_management.group_potting_commercial,potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_taxe_type" 
              name="ğŸ›ï¸ Types de Taxes" 
              parent="menu_potting_ccc" 
              action="action_potting_taxe_type" 
              sequence="30"
              groups="potting_management.group_potting_shipping,potting_management.group_potting_manager"/>

    <!-- CEO Agent Menu -->
    <menuitem id="menu_potting_ceo_agent" 
              name="âœ… Validation" 
              parent="menu_potting_root" 
              sequence="20"
              groups="potting_management.group_potting_ceo_agent"/>

    <menuitem id="menu_potting_ceo_transit_order" 
              name="ğŸ“ OT Ã  valider" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_transit_order_ceo_agent" 
              sequence="10"/>

    <menuitem id="menu_potting_ceo_lot" 
              name="ğŸ“¦ Lots Ã  gÃ©rer" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_lot_ceo_agent" 
              sequence="20"/>

    <menuitem id="menu_potting_ceo_send_report" 
              name="ğŸ“§ Envoyer rapport" 
              parent="menu_potting_ceo_agent" 
              action="action_potting_send_report_wizard" 
              sequence="30"/>

    <menuitem id="menu_potting_daily_report"
              name="ğŸ“Š Rapport quotidien OT"
              parent="menu_potting_ceo_agent"
              action="action_potting_daily_report_wizard"
              sequence="40"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- ================================================================
         MENU COMPTABILITÃ‰ (Paiements et Factures Transitaires)
         ================================================================ -->
    <menuitem id="menu_potting_accounting" 
              name="ğŸ’° ComptabilitÃ©" 
              parent="menu_potting_root" 
              sequence="25"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoice_to_validate" 
              name="ğŸ“‹ Factures Ã  Valider" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_invoice_to_validate" 
              sequence="10"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoice_ready" 
              name="âœ… Factures PrÃªtes au Paiement" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_invoice_ready_payment" 
              sequence="20"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_fwd_invoices_all" 
              name="ğŸ“ Toutes les Factures Transitaires" 
              parent="menu_potting_accounting" 
              action="action_potting_forwarding_agent_invoice" 
              sequence="30"
              groups="potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <!-- Reports Menu -->
    <menuitem id="menu_potting_reports" 
              name="ğŸ“Š Rapports" 
              parent="menu_potting_root" 
              sequence="30"
              groups="potting_management.group_potting_ceo_agent"/>

    <!-- Note: Le menu "Rapport quotidien OT" est dÃ©fini dans potting_daily_report_wizard_views.xml -->

    <!-- Configuration Menu -->
    <menuitem id="menu_potting_config"
        name="âš™ï¸ Configuration"
        parent="menu_potting_root"  
        sequence="100"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_certification"
        name="ğŸ… Certifications"
        parent="menu_potting_config"
        action="action_potting_certification"
        sequence="5"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_consignee"
        name="ğŸ‘¤ Destinataires"
        parent="menu_potting_config"
        action="action_potting_consignee"
        sequence="10"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_vessel"
        name="ğŸš¢ Navires"
        parent="menu_potting_config"
        action="action_potting_vessel"
        sequence="20"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_forwarding_agent"
        name="ğŸšš Transitaires"
        parent="menu_potting_config"
        action="potting_forwarding_agent_action"
        sequence="25"
        groups="potting_management.group_potting_shipping"/>

    <menuitem id="menu_potting_forwarding_agent_payments"
        name="ğŸ’³ Paiements transitaires"
        parent="menu_potting_config"
        action="potting_forwarding_agent_payment_action"
        sequence="26"
        groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_forwarding_agent_invoices"
        name="ğŸ§¾ Factures transitaires"
        parent="menu_potting_config"
        action="action_potting_forwarding_agent_invoice"
        sequence="27"
        groups="potting_management.group_potting_shipping,potting_management.group_potting_accountant,potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_settings"
        name="âš™ï¸ ParamÃ¨tres"
        parent="menu_potting_config"  
        action="action_potting_config_settings"
        sequence="100"
        groups="potting_management.group_potting_manager"/>

    <menuitem id="menu_potting_campaign"
        name="ğŸ“… Campagnes"
        parent="menu_potting_config"
        action="potting_campaign_action"
        sequence="1"
        groups="potting_management.group_potting_manager"/>
</odoo>