<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vue de configuration pour la gestion des empotages -->
    <record id="res_config_settings_view_form_potting" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.potting</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="Gestion des Empotages" string="Gestion des Empotages" name="potting_management">
                    
                    <!-- Configuration G√©n√©rale -->
                    <block title="üë• Configuration G√©n√©rale" name="potting_general_config">
                        <setting id="potting_default_customer_setting" 
                                 title="Client par d√©faut" 
                                 help="Client qui sera s√©lectionn√© par d√©faut lors de la cr√©ation d'une commande"
                                 documentation="/potting_management/static/description/help.html#default-customer">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Client" for="potting_default_customer_id" class="col-lg-3 o_light_label"/>
                                    <field name="potting_default_customer_id" 
                                           placeholder="S√©lectionner un client..."
                                           options="{'no_create': True}"
                                           class="col-lg-6"/>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_cc_partners_setting" 
                                 title="Destinataires en copie par d√©faut" 
                                 help="Liste des personnes √† mettre en copie par d√©faut lors de l'envoi des rapports">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Destinataires CC" for="potting_default_cc_partner_ids" class="col-lg-3 o_light_label"/>
                                    <field name="potting_default_cc_partner_ids" 
                                           widget="many2many_tags"
                                           placeholder="Ajouter des destinataires..."
                                           options="{'color_field': 'color', 'no_create': True}"
                                           class="col-lg-6"/>
                                </div>
                            </div>
                        </setting>
                    </block>
                    
                    <!-- Tonnage Maximum - Masse de cacao -->
                    <block title="‚öñÔ∏è Tonnage Maximum par Lot" name="potting_tonnage_config">
                        <setting id="potting_tonnage_mass_setting" 
                                 title="üç´ Masse de cacao" 
                                 help="Tonnage maximum par lot pour la Masse de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Standard (T)" 
                                           for="potting_max_tonnage_cocoa_mass" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_max_tonnage_cocoa_mass" class="col-lg-2"/>
                                    <span class="col-lg-1 text-muted">tonnes</span>
                                </div>
                                <div class="row mt-2">
                                    <label string="Alternatif (T)" 
                                           for="potting_max_tonnage_cocoa_mass_alt" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_max_tonnage_cocoa_mass_alt" class="col-lg-2"/>
                                    <span class="col-lg-1 text-muted">tonnes</span>
                                </div>
                                <div class="row mt-1">
                                    <div class="col-12">
                                        <small class="text-muted fst-italic">
                                            <i class="fa fa-info-circle me-1"/>Le tonnage alternatif est utilis√© pour certains conteneurs sp√©cifiques
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_tonnage_butter_setting" 
                                 title="üßà Beurre de cacao" 
                                 help="Tonnage maximum par lot pour le Beurre de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Maximum (T)" 
                                           for="potting_max_tonnage_cocoa_butter" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_max_tonnage_cocoa_butter" class="col-lg-2"/>
                                    <span class="col-lg-1 text-muted">tonnes</span>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_tonnage_cake_setting" 
                                 title="üç™ Cake (Tourteau) de cacao" 
                                 help="Tonnage maximum par lot pour le Cake de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Maximum (T)" 
                                           for="potting_max_tonnage_cocoa_cake" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_max_tonnage_cocoa_cake" class="col-lg-2"/>
                                    <span class="col-lg-1 text-muted">tonnes</span>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_tonnage_powder_setting" 
                                 title="‚òï Poudre de cacao" 
                                 help="Tonnage maximum par lot pour la Poudre de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Maximum (T)" 
                                           for="potting_max_tonnage_cocoa_powder" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_max_tonnage_cocoa_powder" class="col-lg-2"/>
                                    <span class="col-lg-1 text-muted">tonnes</span>
                                </div>
                            </div>
                        </setting>
                    </block>
                    
                    <!-- Num√©rotation automatique -->
                    <block title="üî¢ Num√©rotation Automatique" name="potting_sequence_config">
                        <setting id="potting_ot_sequence_setting" 
                                 title="Num√©rotation des OT" 
                                 help="Configuration de la num√©rotation automatique des Ordres de Transit">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Pr√©fixe OT" 
                                           for="potting_ot_sequence_prefix" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_ot_sequence_prefix" class="col-lg-2" placeholder="OT"/>
                                </div>
                                <div class="row mt-2">
                                    <label string="Num√©ro initial" 
                                           for="potting_ot_initial_number" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_ot_initial_number" class="col-lg-2"/>
                                </div>
                                <div class="row mt-1">
                                    <div class="col-12">
                                        <small class="text-muted fst-italic">
                                            <i class="fa fa-info-circle me-1"/>Le num√©ro initial sera utilis√© pour le premier OT cr√©√© s'il n'y a pas d'OT existant. 
                                            Sinon, le syst√®me incr√©mente √† partir du plus grand num√©ro existant.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_lot_sequence_setting" 
                                 title="Num√©rotation des Lots" 
                                 help="Configuration de la num√©rotation automatique des lots">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Pr√©fixe Lot" 
                                           for="potting_lot_sequence_prefix" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_sequence_prefix" class="col-lg-2" placeholder="T"/>
                                </div>
                                <div class="row mt-2">
                                    <label string="Num√©ro initial" 
                                           for="potting_lot_initial_number" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_initial_number" class="col-lg-2"/>
                                </div>
                                <div class="row mt-1">
                                    <div class="col-12">
                                        <small class="text-muted fst-italic">
                                            <i class="fa fa-info-circle me-1"/>Format: [Pr√©fixe][Num√©ro][Suffixe] ‚Üí ex: T10001RA
                                        </small>
                                    </div>
                                </div>
                                <div class="row mt-1">
                                    <div class="col-12">
                                        <small class="text-warning fst-italic">
                                            <i class="fa fa-exclamation-triangle me-1"/>Modifier le num√©ro initial mettra √† jour la s√©quence. Le prochain lot cr√©√© utilisera ce num√©ro.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </setting>
                    </block>
                    
                    <!-- Suffixes des Lots par Type de Produit -->
                    <block title="üè∑Ô∏è Suffixes des Lots par Produit" name="potting_suffix_config">
                        <setting id="potting_suffix_mass_setting" 
                                 title="üç´ Suffixe - Masse de cacao" 
                                 help="Suffixe ajout√© aux num√©ros de lot pour la Masse de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Suffixe" 
                                           for="potting_lot_suffix_cocoa_mass" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_suffix_cocoa_mass" class="col-lg-2" placeholder="RA"/>
                                    <span class="col-lg-4 text-muted">‚Üí Ex: T10001<strong>RA</strong></span>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_suffix_butter_setting" 
                                 title="üßà Suffixe - Beurre de cacao" 
                                 help="Suffixe ajout√© aux num√©ros de lot pour le Beurre de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Suffixe" 
                                           for="potting_lot_suffix_cocoa_butter" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_suffix_cocoa_butter" class="col-lg-2" placeholder="RB"/>
                                    <span class="col-lg-4 text-muted">‚Üí Ex: T10001<strong>RB</strong></span>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_suffix_cake_setting" 
                                 title="üç™ Suffixe - Cake de cacao" 
                                 help="Suffixe ajout√© aux num√©ros de lot pour le Cake de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Suffixe" 
                                           for="potting_lot_suffix_cocoa_cake" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_suffix_cocoa_cake" class="col-lg-2" placeholder="RC"/>
                                    <span class="col-lg-4 text-muted">‚Üí Ex: T10001<strong>RC</strong></span>
                                </div>
                            </div>
                        </setting>
                        
                        <setting id="potting_suffix_powder_setting" 
                                 title="‚òï Suffixe - Poudre de cacao" 
                                 help="Suffixe ajout√© aux num√©ros de lot pour la Poudre de cacao">
                            <div class="content-group">
                                <div class="row mt-2">
                                    <label string="Suffixe" 
                                           for="potting_lot_suffix_cocoa_powder" 
                                           class="col-lg-3 o_light_label"/>
                                    <field name="potting_lot_suffix_cocoa_powder" class="col-lg-2" placeholder="RD"/>
                                    <span class="col-lg-4 text-muted">‚Üí Ex: T10001<strong>RD</strong></span>
                                </div>
                            </div>
                        </setting>
                    </block>
                    
                    <!-- Bloc Informations -->
                    <block title="üìò Aide &amp; Documentation" name="potting_help">
                        <div class="row">
                            <div class="col-12">
                                <div class="alert alert-info border-0 shadow-sm" role="alert">
                                    <h5 class="alert-heading fw-bold">
                                        <i class="fa fa-book me-2"/>Information sur les tonnages
                                    </h5>
                                    <hr class="my-2"/>
                                    <ul class="mb-0 ps-3">
                                        <li class="mb-1">
                                            <strong class="text-dark">üç´ Masse de cacao:</strong> 
                                            <span class="text-muted">Tonnage standard 25T, alternatif 20T selon conteneur</span>
                                        </li>
                                        <li class="mb-1">
                                            <strong class="text-dark">üßà Beurre de cacao:</strong> 
                                            <span class="text-muted">Tonnage maximum recommand√© 22T</span>
                                        </li>
                                        <li class="mb-1">
                                            <strong class="text-dark">üç™ Cake (Tourteau):</strong> 
                                            <span class="text-muted">Tonnage maximum recommand√© 25T</span>
                                        </li>
                                        <li class="mb-1">
                                            <strong class="text-dark">‚òï Poudre de cacao:</strong> 
                                            <span class="text-muted">Tonnage maximum recommand√© 22.5T</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </block>
                    
                </app>
            </xpath>
        </field>
    </record>
    
    <!-- Action pour ouvrir les settings -->
    <record id="action_potting_config_settings" model="ir.actions.act_window">
        <field name="name">Configuration Empotages</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field name="context">{'module': 'potting_management'}</field>
    </record>
    
</odoo>